---
const pathname = new URL(Astro.request.url).pathname;
const currentPage = pathname.split("/")[1];
const currentSubPage = pathname.split("/")[2]; // To identify subpages under "community"
import SocialHandlesIcons from "./SocialHandlesIcons.astro";
---

<div>
  <nav
      class="navbar container is-fixed-top"
      role="navigation"
      aria-label="main navigation"
  >
    <div class="navbar-brand">
      <a href="/" class="navbar-item">
        <div class="image">
          <img src="/dicedb-logo-light.png" style="width: auto;" />
        </div>
      </a>
      <a
          role="button"
          class="navbar-burger burger"
          aria-label="menu"
          aria-expanded="false"
          data-target="menu"
          onclick="document.querySelector('.navbar-menu').classList.toggle('is-active');"
      >
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start"></div>
      <div class="navbar-end">
        <a
            class={`navbar-item ${currentPage === "benchmarks" && "is-active"}`}
            href="/benchmarks"
        >
          <span class="has-text-weight-bold"> Benchmarks</span>
        </a>
        <a
            class={`navbar-item ${currentPage === "docs" && "is-active"}`}
            href="/get-started/installation/"
        >
          <span class="has-text-weight-bold"> Docs</span>
        </a>
        <a
            class={`navbar-item ${currentPage === "blogs" && "is-active"}`}
            href="/blog"
        >
          <span class="has-text-weight-bold"> Blog</span>
        </a>
        <!-- Community Dropdown -->
        <div class="navbar-item has-dropdown is-hoverable">
          <a
              class={`navbar-link ${currentPage === "community" && "is-active"}`}
              href="/community/members"
          >
            <span class="has-text-weight-bold">Community</span>
          </a>
          <div class="navbar-dropdown">
            <a
                class={`navbar-item ${
                    currentPage === "community" && currentSubPage === "members" && "is-active"
                }`}
                href="/community/members"
            >
              Members
            </a>
            <a
                class={`navbar-item ${
                    currentPage === "community" && currentSubPage === "weekly-call" && "is-active"
                }`}
                href="/community/weekly-call"
            >
              Weekly Call
            </a>
          </div>
        </div>
        <div class="navbar-item">
          <SocialHandlesIcons />
        </div>
      </div>
    </div>
  </nav>
</div>
